
{% extends "base.html" %}
{% block hero %}
<section class="hero">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-7 mb-4 mb-lg-0">
        <h1 class="display-4 hero-title">Welcome to EduPortal</h1>
        <p class="lead hero-subtitle">A modern platform for students, teachers, admins, and analysts to collaborate and learn.</p>
        <form class="mt-4" id="siteSearchForm">
          <div class="form-row">
            <div class="col-md-8 mb-2 mb-md-0">
              <input type="text" class="form-control form-control-lg" id="siteSearchInput" placeholder="Search services, our team, login, signup...">
            </div>
            <div class="col-md-4">
              <button class="btn btn-warning btn-lg btn-block" type="submit">Search</button>
            </div>
          </div>
        </form>
      </div>
      <div class="col-lg-5 text-center">
        <img
          src="{{ url_for('static', filename='images/hero.jpg') }}"
          alt="Students learning together"
          class="img-fluid rounded shadow-lg"
          style="max-height: 280px; object-fit: cover;"
        >
      </div>
    </div>
  </div>
  </section>
{% endblock %}
{% block content %}
<!-- Fun Fact Counters -->
<div class="container mb-5">
  <div class="row fun-facts p-4">
    <div class="col-6 col-md-3 fact mb-3 mb-md-0">
      <div class="number text-primary">120+</div>
      <div class="text-muted small">Courses</div>
    </div>
    <div class="col-6 col-md-3 fact mb-3 mb-md-0">
      <div class="number text-primary">5k+</div>
      <div class="text-muted small">Students</div>
    </div>
    <div class="col-6 col-md-3 fact">
      <div class="number text-primary">200+</div>
      <div class="text-muted small">Instructors</div>
    </div>
    <div class="col-6 col-md-3 fact">
      <div class="number text-primary">4.8★</div>
      <div class="text-muted small">Avg. Rating</div>
    </div>
  </div>
</div>

<!-- Testimonials Carousel -->
<div id="testimonials" class="container mb-5">
  <div id="testimonialCarousel" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#testimonialCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#testimonialCarousel" data-slide-to="1"></li>
      <li data-target="#testimonialCarousel" data-slide-to="2"></li>
      <li data-target="#testimonialCarousel" data-slide-to="3"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="card shadow-sm">
          <div class="card-body text-center">
            <p class="mb-1">“EduPortal helped me track my progress and stay organized.”</p>
            <small class="text-muted testimonial-author">— A. Student</small>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <div class="card shadow-sm">
          <div class="card-body text-center">
            <p class="mb-1">“The ingestion tools made data management a breeze.”</p>
            <small class="text-muted testimonial-author">— Admin</small>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <div class="card shadow-sm">
          <div class="card-body text-center">
            <p class="mb-1">“Submitting assignments and seeing results is seamless.”</p>
            <small class="text-muted testimonial-author">— T. Learner</small>
          </div>
        </div>
      </div>
      <div class="carousel-item">
        <div class="card shadow-sm">
          <div class="card-body text-center">
            <p class="mb-1">“Dashboards and insights made data-driven decisions effortless.”</p>
            <small class="text-muted testimonial-author">— Analyst</small>
          </div>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#testimonialCarousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#testimonialCarousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

<!-- Key Features -->
<div class="container mb-5">
  <h2 class="mb-4 text-center">Why Choose EduPortal?</h2>
  <div class="row g-4">
    <div class="col-md-4 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Unified Dashboards</h5>
          <p class="card-text">Dedicated dashboards for Students, Teachers, Admins, and Analysts keep everyone focused and productive.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Assignments & Results</h5>
          <p class="card-text">Create assignments, submit work, and view results with feedback—all in one place.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Progress Tracking</h5>
          <p class="card-text">Visualize performance across courses with clear, insightful charts.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center mt-3">
    <a href="{{ url_for('signup') }}" class="btn btn-outline-primary">Create a free account</a>
  </div>
  </div>

<!-- Popular Categories -->
<div class="container mb-5">
  <h2 class="mb-4 text-center">Popular Categories</h2>
  <div class="row text-center">
    <div class="col-6 col-md-3 mb-3">
      <div class="p-3 border rounded">Computer Science</div>
    </div>
    <div class="col-6 col-md-3 mb-3">
      <div class="p-3 border rounded">Mathematics</div>
    </div>
    <div class="col-6 col-md-3 mb-3">
      <div class="p-3 border rounded">Languages</div>
    </div>
    <div class="col-6 col-md-3 mb-3">
      <div class="p-3 border rounded">Business</div>
    </div>
  </div>
</div>

<!-- How It Works -->
<div class="container mb-5">
  <h2 class="mb-4 text-center">How It Works</h2>
  <div class="row">
    <div class="col-md-4 mb-3">
      <div class="card h-100 border-0">
        <div class="card-body text-center">
          <div class="display-4 mb-2">1</div>
          <h6>Sign up</h6>
          <p class="text-muted">Create your account and choose your role.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card h-100 border-0">
        <div class="card-body text-center">
          <div class="display-4 mb-2">2</div>
          <h6>Enroll or Create</h6>
          <p class="text-muted">Students enroll in courses; teachers create and manage them.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card h-100 border-0">
        <div class="card-body text-center">
          <div class="display-4 mb-2">3</div>
          <h6>Learn & Measure</h6>
          <p class="text-muted">Submit assignments, get results, and track your progress.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Community Faces -->
<div class="container mb-5">
  <h2 class="mb-4 text-center">Trusted by People</h2>
  <div class="row">
    <div class="col-sm-6 col-md-3 mb-3">
      <div class="card h-100 shadow-sm text-center">
        <div class="p-3">
          <img src="{{ url_for('static', filename='images/people/person1.jpg') }}" class="rounded-circle mb-2 d-block mx-auto" alt="Alex Johnson" style="width:96px;height:96px;object-fit:cover;">
          <h6 class="mb-1">Alex Johnson</h6>
          <p class="text-muted small mb-0">Computer Science student who tracks progress and aces deadlines with EduPortal.</p>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-3 mb-3">
      <div class="card h-100 shadow-sm text-center">
        <div class="p-3">
          <img src="{{ url_for('static', filename='images/people/person2.jpg') }}" class="rounded-circle mb-2 d-block mx-auto" alt="Maria Rivera" style="width:96px;height:96px;object-fit:cover;">
          <h6 class="mb-1">Maria Rivera</h6>
          <p class="text-muted small mb-0">Teacher simplifying assignments and giving quick feedback to students.</p>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-3 mb-3">
      <div class="card h-100 shadow-sm text-center">
        <div class="p-3">
          <img src="{{ url_for('static', filename='images/people/person3.jpg') }}" class="rounded-circle mb-2 d-block mx-auto" alt="Rahul Mehta" style="width:96px;height:96px;object-fit:cover;">
          <h6 class="mb-1">Rahul Mehta</h6>
          <p class="text-muted small mb-0">Admin who keeps data clean and users organized with a few clicks.</p>
        </div>
      </div>
    </div>
    <div class="col-sm-6 col-md-3 mb-3">
      <div class="card h-100 shadow-sm text-center">
        <div class="p-3">
          <img src="{{ url_for('static', filename='images/people/person4.jpg') }}" class="rounded-circle mb-2 d-block mx-auto" alt="Chen Li" style="width:96px;height:96px;object-fit:cover;">
          <h6 class="mb-1">Chen Li</h6>
          <p class="text-muted small mb-0">Analyst turning results into insights to help everyone improve.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- FAQ (Bootstrap 4 collapse) -->
<div class="container mb-5">
  <h2 class="mb-4 text-center">Frequently Asked Questions</h2>
  <div id="faqAccordion">
    <div class="card">
      <div class="card-header" id="faq1">
        <h5 class="mb-0">
          <button class="btn btn-link" data-toggle="collapse" data-target="#faqOne" aria-expanded="true" aria-controls="faqOne">
            How do I enroll in a course?
          </button>
        </h5>
      </div>
      <div id="faqOne" class="collapse show" aria-labelledby="faq1" data-parent="#faqAccordion">
        <div class="card-body">Create a student account, navigate to your dashboard, and open the Enroll section to browse available courses.</div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="faq2">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#faqTwo" aria-expanded="false" aria-controls="faqTwo">
            How do teachers post assignments?
          </button>
        </h5>
      </div>
      <div id="faqTwo" class="collapse" aria-labelledby="faq2" data-parent="#faqAccordion">
        <div class="card-body">Teachers can create assignments from the Assignments section of their dashboard and optionally attach files.</div>
      </div>
    </div>
    <div class="card">
      <div class="card-header" id="faq3">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#faqThree" aria-expanded="false" aria-controls="faqThree">
            Where can I see my grades?
          </button>
        </h5>
      </div>
      <div id="faqThree" class="collapse" aria-labelledby="faq3" data-parent="#faqAccordion">
        <div class="card-body">All evaluations are visible in the Results section of the student dashboard, with feedback and marks.</div>
      </div>
    </div>
  </div>
</div>

<!-- Call to Action -->
<div class="container text-center mb-5">
  <h2 class="mb-3">Ready to start learning?</h2>
  <p class="text-muted mb-4">Join thousands of students advancing their skills.</p>
  <a href="{{ url_for('signup') }}" class="btn btn-primary btn-lg">Get Started</a>
</div>
{% endblock %}
{% block extra_js %}
<script>
  $(function(){
    function normalize(q){
      return (q || '').toString().trim().toLowerCase();
    }
    const routes = [
      { keys: ['service','services'], url: "{{ url_for('services') }}" },
      { keys: ['our team','team'], url: "{{ url_for('our_team') }}" },
      { keys: ['login','log in','sign in','signin'], url: "{{ url_for('login') }}" },
      { keys: ['signup','sign up','register','registration'], url: "{{ url_for('signup') }}" },
      { keys: ['feedback','contact','support'], url: "{{ url_for('feedback') }}" },
      { keys: ['home','homepage','main'], url: "{{ url_for('home') }}" },
    ];
    $('#siteSearchForm').on('submit', function(e){
      e.preventDefault();
      const q = normalize($('#siteSearchInput').val());
      if (!q){ return; }
      // Try exact keyword match first, then substring match
      for (const r of routes){
        if (r.keys.includes(q)) { window.location.href = r.url; return; }
      }
      for (const r of routes){
        for (const k of r.keys){ if (q.includes(k)) { window.location.href = r.url; return; } }
      }
      // If not found, show a helpful message
      if (window.Swal){
        Swal.fire({ icon: 'info', title: 'No direct match', text: 'Try keywords like services, our team, login, signup, feedback.' });
      } else {
        alert('No direct match. Try: services, our team, login, signup, feedback.');
      }
    });

    // (AI chatbot lives globally in base layout)
  });
</script>
{% endblock %}
